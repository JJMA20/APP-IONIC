import { Component, OnInit } from '@angular/core';
import { 
  FormGroup,
  FormBuilder,
  Validators,
  FormControl
 } from '@angular/forms';
import { Router } from '@angular/router';
import { ApirestService } from '../apirest.service';

@Component({
  selector: 'app-tab2',
  templateUrl: 'tab2.page.html',
  styleUrls: ['tab2.page.scss']
})
export class Tab2Page {
  formulariologin: FormGroup;
  img:string;
  listarEstudiante = [];
  
  ngOnInit(){
    //validacion del login
    this.formulariologin = this.fb.group({
      email: ['',Validators.required],
      password: ['',Validators.required]});

      this.img='data:image/png;base64,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'

    //mostrar estudiantes
    this.getListEstudiante();
  }

  constructor(public fb: FormBuilder, private api : ApirestService, private route : Router) {
    // this.formulariologin = this.fb.group({
    //   'email': new FormControl("",Validators.required),
    //   'password': new FormControl("",Validators.required)
    // });
  }

  login(formLogin: FormGroup){
    if (formLogin.valid){
      this.api.Login(formLogin.value.email, formLogin.value.password).subscribe((data => {
        console.log(data);
        if(data){
          this.route.navigate(["/tabs/tab3"])
        }
      }))
    };
  }
  getListEstudiante(){
    this.api.getUsers().subscribe((res: any) =>{
      console.log(res);
      this.listarEstudiante = res;
      console.log(this.listarEstudiante);
    })
  }

}
